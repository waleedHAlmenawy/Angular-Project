<section class="bg-light my-5">
  <div class="container">
    <div class="row" *ngIf="!isLoading">
      <!-- cart -->
      <div class="col-lg-9">
        <div class="card border shadow-0">
          <div class="m-4">
            <h4 class="card-title my-5 text-center">Shopping Cart</h4>
            <app-cart-item *ngFor="let cartItem of cartItems" [cartItem]="cartItem"></app-cart-item>
          </div>

          <div class="border-top pt-4 mx-4 mb-4">
            <p><i class="fas fa-truck text-muted fa-lg"></i> Free Delivery within 1-2 weeks</p>
            <p class="text-muted"></p>
          </div>
        </div>
      </div>

      <div class="col-lg-3">
        <div class="card shadow-0 border">
          <div class="card-body">
            <div class="d-flex justify-content-between">
              <p class="mb-2">Total Price:</p>
              <p class="mb-2">${{total.price}}</p>
            </div>
            <div class="d-flex justify-content-between">
              <p class="mb-2">Discount:</p>
              <p class="mb-2 discount">-${{total.discount.toFixed(2)}}</p>
            </div>
            <hr />
            <div class="d-flex justify-content-between">
              <p class="mb-2">Total price:</p>
              <p class="mb-2 fw-bold">${{(total.price - total.discount).toFixed(2)}}</p>
            </div>

            <div class="mt-3">
              <button (click)="makePurches()" class="btn w-100 shadow-0 mb-2 purchase"> Make Purchase
              </button>
              <button (click)="backToShop()" class="btn btn-light w-100 border mt-2"> Back To Shop </button>
            </div>
          </div>
        </div>
      </div>
      <!-- summary -->
    </div>
    <app-loader *ngIf="isLoading" class="m-auto"></app-loader>
  </div>
</section>
