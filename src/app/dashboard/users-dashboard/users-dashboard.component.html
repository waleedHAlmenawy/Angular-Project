<div class="container" >
  <div class="row d-flex justify-content-between align-items-center mb-4">
    <div class="col-xl-6 col-sm-3 col-12">
      <form class="position-relative w-75" >
        <label for="w-100 "></label>

        <input
          class="input-text input-text--border-radius input-text--style-1"
          type="search"
          id="main-search"
          placeholder="Search"
          #searchinput
        />

        <button
          class="btn btn--icon fas fa-search main-search-button"
          type="submit"
        ></button>
      </form>
    </div>
    <div class="col-xl-3 col-sm-3 col-12" *ngIf="!loading">
      <button class="btn button" (click)="openAddUserPopup()">
        Add New User
      </button>
    </div>
  </div>

  <table class="table " *ngIf="!loading">
    <thead >
      <tr>
        <th class="text-center" scope="col" style="width: 10% ">
          Image
        </th>
        <th class="text-center" scope="col" style="width: 25% ">
          Name
        </th>
        <th class="text-center" scope="col" style="width: 20% ">
          E-mail
        </th>
        <th class="text-center" scope="col" style="width: 10% ">
          Phone
        </th>
        <th class="text-center" scope="col" style="width: 10% ">
          IsAdmin
        </th>
        <th class="text-center" scope="col" style="width: 10% ">
          IsDeleted
        </th>
        <th class="text-center" scope="col" style="width: 5% "></th>
        <th class="text-center" scope="col" style="width: 5% "></th>
      </tr>
    </thead>
    <tbody >
      <tr *ngFor="let user of allUsers" [class.deleted-user]="user.isDeleted">

        <td scope="col" class="text-center" >
          <img [src]="user.imagePath" alt="userImg" width="100%" class="rounded-circle" />
        </td>
        <td scope="col" class="text-center" >
          <p [title]="user.name" class="d-inline-block text-truncate" >
            {{ user.name }}
          </p>
        </td>
        <td scope="col" class="text-center" >
          <p [title]="user.email" class="d-inline-block text-truncate" >
            {{ user.email }}
          </p>
        </td>
        <td scope="col" class="text-center" >
          {{ user.phone }}
        </td>
        <td scope="col" class="text-center" >
          {{ user.isAdmin }}
        </td>
        <td scope="col" class="text-center" >
          {{ user.isDeleted }}
        </td>
        <td scope="col" class="text-center" style="width: 5% ">
          <div (click)="openEditUserPopup(user)" class="text-center">
            <i class="fa-solid fa-pen-to-square icon"></i>
          </div>
        </td>
        <td scope="col" class="text-center" style="width: 5% ">
          <div class="text-center" (click)="deleteUser(user)">
            <i class="fa-solid fa-trash icon"></i>
          </div>
        </td>
      </tr>
    </tbody>
  </table>
  <nav aria-label="Page navigation example" style="bottom: 0; left: 0; right: 0; position: fixed" *ngIf="!loading">
    <ul class="pagination justify-content-center">
      <li class="page-item" *ngIf="page > 1">
        <a class="page-link" (click)="prevPage(page)" aria-label="Previous" style="color: #ff4500; cursor: pointer">
          <span aria-hidden="true">&laquo;</span>
          <span class="sr-only">Previous</span>
        </a>
      </li>
      <li class="page-item">
        <a class="page-link" style="color: #ff4500">{{ page }}</a>
      </li>
      <li class="page-item" *ngIf="page < pages.length" style="cursor: pointer">
        <a class="page-link" (click)="nextPage(page)" aria-label="Next" style="color: #ff4500">
          <span aria-hidden="true">&raquo;</span>
          <span class="sr-only">Next</span>
        </a>
      </li>
    </ul>
  </nav>

</div>

<div class="d-flex justify-content-between align-items-center" *ngIf="loading">

  <div>
    <ngx-skeleton-loader
      count="1"
      appearance="line"
      [theme]="{ width: '150px', height: '50px' }"
    ></ngx-skeleton-loader>
  </div>
</div>

<ngx-skeleton-loader
  *ngIf="loading"
  count="1"
  appearance="line"
  [theme]="{ height: '70px' }"
></ngx-skeleton-loader>

<ngx-skeleton-loader *ngIf="loading" count="4" appearance="line" [theme]="{height:'35px'}"></ngx-skeleton-loader>

